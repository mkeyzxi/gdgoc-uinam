import{r as x,j as n,m as u,u as g,a as f}from"./index-DSIduLnH.js";function j({children:d,onSendToBack:h,sensitivity:s}){const e=g(0),a=g(0),l=f(a,[-100,100],[60,-60]),i=f(e,[-100,100],[-60,60]);function c(m,t){Math.abs(t.offset.x)>s||Math.abs(t.offset.y)>s?h():(e.set(0),a.set(0))}return n.jsx(u.div,{className:"absolute cursor-grab",style:{x:e,y:a,rotateX:l,rotateY:i},drag:!0,dragConstraints:{top:0,right:0,bottom:0,left:0},dragElastic:.6,whileTap:{cursor:"grabbing"},onDragEnd:c,children:d})}function y({randomRotation:d=!1,sensitivity:h=200,cardDimensions:s={width:208,height:208},cardsData:e=[],animationConfig:a={stiffness:260,damping:20},sendToBackOnClick:l=!1}){const[i,c]=x.useState(e.length?e:[{id:1,img:"https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?q=80&w=500&auto=format"},{id:2,img:"https://images.unsplash.com/photo-1449844908441-8829872d2607?q=80&w=500&auto=format"},{id:3,img:"https://images.unsplash.com/photo-1452626212852-811d58933cae?q=80&w=500&auto=format"},{id:4,img:"https://images.unsplash.com/photo-1572120360610-d971b9d7767c?q=80&w=500&auto=format"}]),m=t=>{c(r=>{const o=[...r],p=o.findIndex(w=>w.id===t),[b]=o.splice(p,1);return o.unshift(b),o})};return n.jsx("div",{className:"relative",style:{width:s.width,height:s.height,perspective:600},children:i.map((t,r)=>{const o=d?Math.random()*10-5:0;return n.jsx(j,{onSendToBack:()=>m(t.id),sensitivity:h,children:n.jsx(u.div,{className:"rounded-2xl overflow-hidden border-4 border-white",onClick:()=>l&&m(t.id),animate:{rotateZ:(i.length-r-1)*4+o,scale:1+r*.06-i.length*.06,transformOrigin:"90% 90%"},initial:!1,transition:{type:"spring",stiffness:a.stiffness,damping:a.damping},style:{width:s.width,height:s.height},children:n.jsx("img",{src:t.img,alt:`card-${t.id}`,loading:"lazy",className:"w-full h-full object-cover pointer-events-none"})})},t.id)})})}export{y as default};
